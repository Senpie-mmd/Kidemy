@using Kidemy.Application.ViewModels.User.ClientSide;
@using Kidemy.Domain.Enums.User;
@model ClientSideUpdateUserViewModel
@inject IUserService UserService
@{
    ViewData["Title"] = Localizer["EditProfile"];
}

<div class="card bg-transparent border rounded-3">
    <!-- Card header -->
    <div class="card-header bg-transparent border-bottom">
		<h3 class="card-header-title mb-0 ff-vb fs-5">@Localizer["EditProfile"]</h3>
    </div>
    <!-- Card body START -->
    <div class="card-body ">
        <!-- Form -->
        <form method="post" asp-action="EditProfile" asp-controller="Home" asp-area="UserPanel" enctype="multipart/form-data" class="row g-4">
            <!-- Profile picture -->
            <div class="col-12 justify-content-center align-items-center">
                <div class="form-group userAvatar d-flex align-items-center">
                    <label class="position-relative me-4" title="Replace this pic">
                        <!-- Avatar place holder -->
                        <span class="avatar avatar-xl">
                            <img src=@($"{SiteTools.UserImagePath}{TempData["UserAvatarName"]}") class="avatar-img rounded-circle border border-white border-3 shadow" imagefile="1">
                        </span>
                    </label>
                    <!-- Upload button -->
                    <label for="uploadImage">
                        <button type="button" class="btn btn-primary-soft mb-0" id="uploadBtn">@Localizer["Change"]</button>
                    </label>
                    <input type="file" id="uploadImage" class="d-none" imageinput="1" ccept="image/png, image/jpeg" asp-for="Avatar">
                </div>
            </div>

            <!-- Full name -->
            <div class="col-6">
                <label class="form-label">@Localizer["FirstName"]</label>
                <div class="input-group">
                    <input asp-for="FirstName" type="text" class="form-control" placeholder="@Localizer["FirstName"]">
                </div>
                <span  asp-validation-for="FirstName" class="text-danger d-block"></span>
            </div>
            <div class="col-6">
				<label class="form-label">@Localizer["LastName"]</label>
                <div class="input-group">
					<input asp-for="LastName" type="text" class="form-control" placeholder="@Localizer["LastName"]">
                </div>
                <span asp-validation-for="LastName" class="text-danger d-block"></span>
            </div>

            <div class="col-md-6">
				<label class="form-label">@Localizer["BirthDate"]</label>
                <div class="input-group">
					<input asp-for="BirthDate" type="text" class="form-control flatpickr-input persianDate" autocomplete="off" placeholder="@Localizer["BirthDate"]">
                </div>
                <span asp-validation-for="BirthDate" class="text-danger d-block"></span>

            </div>
            <div class="col-md-6">
				<label class="form-label">@Localizer["Email"]</label>
				<input class="form-control" asp-for="Email" type="email" placeholder="@Localizer["Email"]">
                <span asp-validation-for="Email" class="text-danger d-block"></span>
            </div>

            <div class="col-md-6">
				<label class="form-label">@Localizer["Gender"]</label>
                <select asp-for="Gender" asp-items="@Html.GetEnumSelectList<Gender>()" class="form-control form-select js-choice z-index-9 border-1"></select>
                <span asp-validation-for="Gender" class="text-danger d-block"></span>
            </div>

            <!-- Save button -->
            <div class="d-sm-flex justify-content-end">
				<button type="submit" class="btn btn-primary mb-0 loading-support">@Localizer["Save"]</button>
            </div>
        </form>
    </div>
    <!-- Card body END -->
</div>